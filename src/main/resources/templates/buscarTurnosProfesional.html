<!Doctype html>
<html xmlns:th="http://www.thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Buscar Turnos</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="/static/css/profesionalDashboard.css">
    <style>
        .blur-background {
            background-image: url(/static/img/background-dashboard.jpg);
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw; /* Cambiado a 100vw */
            height: 100vh; /* Cambiado a 100vh */
            z-index: -1;
        }
        .wrapper {
            position: relative;
            z-index: 0;
        }
    </style>
</head>
<body>
<div class="blur-background"></div>
<div class="wrapper d-flex align-items-stretch">
    <nav id="sidebar">
        <div class="p-4 pt-5">
            <a th:href="@{/profesional/dashboard-profesional/cambiarImagen}" class="img logo rounded-circle mb-5">
                <img th:src="@{/profesional/perfil/__${usuarioProfesional.id}__}" style="width: 120px; height: 120px; border-radius: 50%;" />
            </a>
            <ul class="list-unstyled components mb-5">
                <li class="active">
                    <a href="#perfilSubmenu" data-toggle="collapse" aria-expanded="false"
                       class="dropdown-toggle">Perfil</a>
                    <ul class="collapse list-unstyled" id="perfilSubmenu">
                        <li>
                            <a th:href="@{/profesional/dashboard-profesional/modificar-profesional}"
                               onclick="mostrarFormulario()">Editar Perfil</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#turnosSubmenu" data-toggle="collapse" aria-expanded="false"
                       class="dropdown-toggle">Turnos</a>
                    <ul class="collapse list-unstyled" id="turnosSubmenu">
                        <li>
                            <a th:href="@{/profesional/dashboard-profesional/turnos-profesional/turnos-disponibles}"
                               onclick="buscarTurnosProfesional()">Buscar Turnos disponibles</a>
                        </li>
                        <li>
                            <a th:href="@{/profesional/dashboard-profesional/turnos-profesional/establecer-disponibilidad}">Disponibilizar
                                Turnos</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a th:href="@{/profesional/dashboard-profesional/misPacientes}">Mis Pacientes</a>
                </li>
                <li>
                    <a th:href="@{/profesional/dashboard-profesional/contactoAdmin}">Contacto Admin</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Nav superior  -->
    <div id="content" class="p-4 p-md-5">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">

                <button type="button" id="sidebarCollapse" class="btn btn-primary">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Toggle Menu</span>
                </button>
                <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link" th:href="@{/profesional/dashboard-profesional}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/logout">Logout</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Contenido de pagina  -->
        <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th class="th-sm">Paciente</th>
                <th class="th-sm">Profesional</th>
                <th class="th-sm">Dia</th>
                <th class="th-sm">Hora</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="turno : ${turnosDisponibles}">
                <td>
                    <button type="button" class="btn btn-primary">Asignar turno</button>
                </td>
                <td th:text="${turno.usuarioProfesional.nombre + ' ' + turno.usuarioProfesional.apellido}">Nombre
                    Profesional
                </td>
                <td th:text="${turno.fechaFormateada}">Fecha</td>
                <td th:text="${turno.horaFormateada}">Hora</td>


            </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/popper.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/main.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function () {
        // Inicializa DataTables
        $('#dtBasicExample').DataTable();
    });
</script>
</body>
</html>